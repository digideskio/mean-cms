<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Object editor</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width">
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
  <!-- build:css styles/vendor.css -->
  <!-- bower:css -->
  <!-- endbower -->
  <!-- endbuild -->
  <!-- build:css({.tmp,app}) styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild -->
</head>
<body ng-app="meanCmsApp" ng-controller="appCtrl">

<div ng-if="isAuthed" ng-cloak>
  <nav class="side-nav">
    <h1>
      <img src="images/cms-icon.png"/>Editable objects:
    </h1>

    <ul>
      <li ng-repeat="(key, value) in objectsMetaData">
        <a ng-href="#/objects/{{key}}/list">
          {{value.displayName | lowercase}}
        </a>
      </li>
    </ul>
  </nav>

  <!-- Add your site or application content here -->
  <div class="view" ng-view=""></div>
</div>

<div ng-if="!isAuthed" ng-cloak class="login-container">

  <div class="login-box">

    <h1>
      <img src="images/cms-icon.png"/>
      Access editable objects:
    </h1>

    <form class="login-form">

      <div class="warning" ng-show="$parent.authFailed">
        Sorry your username or password was incorrect =(
      </div>

      <fieldset>

        <div>
          <label for="username">username:</label>
          <input id="username" type="text" ng-model="$parent.username"/>
        </div>

        <div>
          <label for="password">password:</label>
          <input id="password" type="password" ng-model="$parent.password"/>
        </div>

        <input type="submit" value="log in" ng-click="login()"/>
      </fieldset>
    </form>
  </div>

  <div class="loading" ng-if="loading">
    <img src="images/gears.svg" />
  </div>
</div>

<!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-XXXXX-X');
  ga('send', 'pageview');
</script>

<!--[if lt IE 9]>
<script src="bower_components/es5-shim/es5-shim.js"></script>
<script src="bower_components/json3/lib/json3.min.js"></script>
<![endif]-->

<!-- build:js scripts/vendor.js -->
<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/angular-cookies/angular-cookies.js"></script>
<script src="bower_components/angular-resource/angular-resource.js"></script>
<script src="bower_components/angular-route/angular-route.js"></script>
<script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
<!-- endbuild -->
<!-- build:js({.tmp,app}) scripts/scripts.js -->
<script src="scripts/app.js"></script>
<script src="scripts/controllers/app.js"></script>
<script src="scripts/controllers/main.js"></script>
<script src="scripts/controllers/list.js"></script>
<script src="scripts/controllers/create.js"></script>
<script src="scripts/controllers/edit.js"></script>
<script src="scripts/services/authorisation.js"></script>
<script src="scripts/interceptors/authorisation.js"></script>
<script src="scripts/services/data.js"></script>
<script src="scripts/directives/createBtn.js"></script>
<script src="scripts/directives/editor.js"></script>

<!-- endbuild -->
</body>
</html>
